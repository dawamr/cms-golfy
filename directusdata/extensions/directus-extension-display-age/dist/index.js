import{openBlock as e,createElementBlock as t,toDisplayString as r}from"vue";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function u(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function i(e){u(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===n(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function o(e,t){if(u(2,arguments),!t||"object"!==n(t))return new Date(NaN);var r=t.years?a(t.years):0,o=t.months?a(t.months):0,s=t.weeks?a(t.weeks):0,l=t.days?a(t.days):0,c=t.hours?a(t.hours):0,g=t.minutes?a(t.minutes):0,f=t.seconds?a(t.seconds):0,d=i(e),m=o||r?function(e,t){u(2,arguments);var r=i(e),n=a(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var o=r.getDate(),s=new Date(r.getTime());return s.setMonth(r.getMonth()+n+1,0),o>=s.getDate()?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}(d,o+12*r):d,v=l||s?function(e,t){u(2,arguments);var r=i(e),n=a(t);return isNaN(n)?new Date(NaN):n?(r.setDate(r.getDate()+n),r):r}(m,l+7*s):m,h=1e3*(f+60*(g+60*c));return new Date(v.getTime()+h)}function s(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function l(e){u(1,arguments);var t=i(e);return t.setHours(0,0,0,0),t}var c=864e5;function g(e,t){u(2,arguments);var r=i(e),n=i(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var f=6e4,d=36e5;function m(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function v(e,t){u(2,arguments);var r=i(e),n=i(t),a=m(r,n),o=Math.abs(function(e,t){u(2,arguments);var r=l(e),n=l(t),a=r.getTime()-s(r),i=n.getTime()-s(n);return Math.round((a-i)/c)}(r,n));r.setDate(r.getDate()-a*o);var g=a*(o-Number(m(r,n)===-a));return 0===g?0:g}function h(e,t){return u(2,arguments),i(e).getTime()-i(t).getTime()}var D={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},N="trunc";function p(e){return e?D[e]:D[N]}function y(e){u(1,arguments);var t=i(e);return function(e){u(1,arguments);var t=i(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){u(1,arguments);var t=i(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function M(e,t){u(2,arguments);var r,n=i(e),a=i(t),o=g(n,a),s=Math.abs(function(e,t){u(2,arguments);var r=i(e),n=i(t);return 12*(r.getFullYear()-n.getFullYear())+(r.getMonth()-n.getMonth())}(n,a));if(s<1)r=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);var l=g(n,a)===-o;y(i(e))&&1===s&&1===g(e,a)&&(l=!1),r=o*(s-Number(l))}return 0===r?0:r}function w(e,t){u(2,arguments);var r=i(e),n=i(t),a=g(r,n),o=Math.abs(function(e,t){u(2,arguments);var r=i(e),n=i(t);return r.getFullYear()-n.getFullYear()}(r,n));r.setFullYear(1584),n.setFullYear(1584);var s=g(r,n)===-a,l=a*(o-Number(s));return 0===l?0:l}function b(e){u(1,arguments);var t=i(e.start),r=i(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(r.getTime()))throw new RangeError("End Date is invalid");var n={};n.years=Math.abs(w(r,t));var a=g(r,t),s=o(t,{years:a*n.years});n.months=Math.abs(M(r,s));var l=o(s,{months:a*n.months});n.days=Math.abs(v(r,l));var c=o(l,{days:a*n.days});n.hours=Math.abs(function(e,t,r){u(2,arguments);var n=h(e,t)/d;return p(null==r?void 0:r.roundingMethod)(n)}(r,c));var m=o(c,{hours:a*n.hours});n.minutes=Math.abs(function(e,t,r){u(2,arguments);var n=h(e,t)/f;return p(null==r?void 0:r.roundingMethod)(n)}(r,m));var D=o(m,{minutes:a*n.minutes});return n.seconds=Math.abs(function(e,t,r){u(2,arguments);var n=h(e,t)/1e3;return p(null==r?void 0:r.roundingMethod)(n)}(r,D)),n}function T(e,t){var r;u(1,arguments);var n=a(null!==(r=null==t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,o=function(e){var t,r={},n=e.split(S.dateTimeDelimiter);if(n.length>2)return r;/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],S.timeZoneDelimiter.test(r.date)&&(r.date=e.split(S.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length)));if(t){var a=S.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e);if(o.date){var s=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,u=n[2]?parseInt(n[2]):null;return{year:null===u?a:100*u,restDateString:e.slice((n[1]||n[2]).length)}}(o.date,n);i=function(e,t){if(null===t)return new Date(NaN);var r=e.match(F);if(!r)return new Date(NaN);var n=!!r[4],a=U(r[1]),u=U(r[2])-1,i=U(r[3]),o=U(r[4]),s=U(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,o,s)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,u=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+u),n}(t,o,s):new Date(NaN);var l=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(H[t]||($(e)?29:28))}(t,u,i)&&function(e,t){return t>=1&&t<=($(e)?366:365)}(t,a)?(l.setUTCFullYear(t,u,Math.max(a,i)),l):new Date(NaN)}(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var l,c=i.getTime(),g=0;if(o.time&&(g=function(e){var t=e.match(Y);if(!t)return NaN;var r=j(t[1]),n=j(t[2]),a=j(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,a))return NaN;return r*d+n*f+1e3*a}(o.time),isNaN(g)))return new Date(NaN);if(!o.timezone){var m=new Date(c+g),v=new Date(0);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return l=function(e){if("Z"===e)return 0;var t=e.match(C);if(!t)return 0;var r="+"===t[1]?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return r*(n*d+a*f)}(o.timezone),isNaN(l)?new Date(NaN):new Date(c+g+l)}var S={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Y=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,C=/^([+-])(\d{2})(?::?(\d{2}))?$/;function U(e){return e?parseInt(e):1}function j(e){return e&&parseFloat(e.replace(",","."))||0}var H=[31,null,31,30,31,30,31,31,30,31,30,31];function $(e){return e%400==0||e%4==0&&e%100!=0}var E={id:"directus-display-age",name:"Display Age",icon:"calendar_month",description:"Display the current age from the date of birth",component:((e,t)=>{const r=e.__vccOpts||e;for(const[e,n]of t)r[e]=n;return r})({props:{value:{type:String,default:null},show_months:{type:Boolean,default:!1}},setup:e=>function(){if(e.show_months){const{years:t,months:r}=b({start:T(e.value),end:new Date});return`${t} years ${r} months`}return`${w(new Date,T(e.value))} years`}},[["render",function(n,a,u,i,o,s){return e(),t("div",null,r(n.calculateAge()),1)}],["__file","display.vue"]]),options:null,types:["date"]};export{E as default};
